<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Add Room</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <img src="logo.png" alt="Logo" class="logo">
        <h1>Add Room</h1>
        <div id="datetime" class="datetime"></div> <!-- Date and Time Display -->

        <form id="add-room-form">
            <label for="room-name">Room Name:</label>
            <input type="text" id="room-name" required>
            <button type="submit">Add Room</button>
        </form>

        <h2>Available Rooms</h2>
        <ul id="room-list"></ul>

        <div id="remove-room-controls" style="display: none;">
            <h2>Remove Room</h2>
            <button id="remove-room-btn">Remove Selected Room</button>
        </div>
    </div>

    <script>
        function updateDateTime() {
            const now = new Date();
            const options = { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric', 
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit',
                hour12: true 
            };
            document.getElementById('datetime').textContent = now.toLocaleString('en-US', options);
        }

        function loadRooms() {
            const rooms = JSON.parse(localStorage.getItem('rooms')) || [];
            const roomList = document.getElementById('room-list');

            // Clear existing list
            roomList.innerHTML = '';

            // Add room items to the list
            rooms.forEach((room) => {
                const li = document.createElement('li');
                li.textContent = room;
                roomList.appendChild(li);
            });
        }

        document.getElementById('add-room-form').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission

            const roomName = document.getElementById('room-name').value;

            // Save to localStorage
            const rooms = JSON.parse(localStorage.getItem('rooms')) || [];
            rooms.push(roomName);
            localStorage.setItem('rooms', JSON.stringify(rooms));

            // Reset the form
            document.getElementById('add-room-form').reset();
            loadRooms(); // Refresh the room list
        });

        // Admin controls logic (assuming admin login is handled)
        const isAdmin = true; // Set this based on your actual admin login logic
        if (isAdmin) {
            document.getElementById('remove-room-controls').style.display = 'block';
            document.getElementById('remove-room-btn').addEventListener('click', function() {
                const roomName = prompt("Enter the name of the room to remove:");
                let rooms = JSON.parse(localStorage.getItem('rooms')) || [];

                rooms = rooms.filter(room => room !== roomName); // Remove room by name
                localStorage.setItem('rooms', JSON.stringify(rooms)); // Update localStorage
                loadRooms(); // Reload the list
                alert("Room removed successfully!");
            });
        }

        // Load rooms and date/time when the page is ready
        window.onload = function() {
            updateDateTime();
            loadRooms();
            setInterval(updateDateTime, 1000); // Update every second
        };
    </script>
</body>
</html>
